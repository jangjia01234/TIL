## Database

### 강종범 멘토님 (BE)

<br>

- 데이터베이스 모델링
- 백엔드뿐만 아니라 프론트엔드 역시 관계형 데이터베이스의 정의, 데이터베이스의 테이블 구조 등을 알면 문제 해결이 훨씬 수월해지고 아키텍쳐 구성에도 도움이 된다

<br>

## 목차

1. 데이터베이스란?
2. 데이터베이스를 사용하는 이유
3. 관계형 데이터베이스 (RDBMS)

<br><br>

## 세션

1. 데이터베이스란?

- 데이터: 수, 단어, 이미지, 영상 등의 형태로 된 의미 단위
- 웹 생태계에서 클라이언트란 프론트엔드 서버를 말함
- 웹 클라에서 DB로 정보를 요청하고 받는 과정에서 중간에 웹 어플리케이션 서버를 반드시 거쳐야 하는 이유는 보안 때문
- 웹 클라이언트의 구조(flow)
  - -> 확인하고자 하는 항목 클릭
    <br>
    -> 클라이언트(브라우저, 웹 서버)가 웹 어플리케이션 서버(백엔드 서버)에 상품 상세 정보 요청
    <br>
    -> 웹 어플리케이션 서버가 데이터베이스에 필요한 정보 요청
    <br>
    -> DB가 필요한 정보를 웹 어플리케이션 서버로 응답
    <br>
    -> 웹 어플리케이션 서버가 웹 클라이언트에 상품 상세 정보 응답

<br>

- 데이터베이스: 컴퓨터 시스템에 저장된 정보나 데이터를 모두 모아 놓은 집합
- 데이터들은 DBMS(Database Management System)로 제어 및 관리

<br><br>

2. 데이터베이스를 사용하는 이유

- 데이터베이스가 아니라 (어플리케이션) 서버에 데이터를 저장하면 안될까?
  <br>
  -> 서버에서도 저장할 수 있지만, DBMS만큼 효율적으로 관리하기가 쉽지 않음 (일관성, 안정성 문제)
  <br>
  -> 각 서버가 데이터를 모두 가지고 있다면 서버마다 다른 데이터를 가지게 되어 문제가 생길 수 있음 (데이터는 여러 서비스에 걸쳐 사용되는 경우가 많기 때문)
  <br>
  -> 데이터를 한 곳에 저장하여 일관되게 관리하는 것이 중요

  <br>

- 데이터를 체계적으로 보관 및 관리해야 원하는 정보를 쉽게 가져올 수 있음

<br><br>

3. 관계형 데이터베이스(RDBMS)

- 관계형 데이터베이스란?
  - RDBMS(Relational Database Management System)
  - 관계형 데이터 모델에 기초를 둔 데이터베이스 시스템
  - 관계형 데이터: 데이터를 서로 상호 관련성을 가진 형태로 표현한 것
  - 종류: MySQL, PostgreSQL, Oracle, MSSQL ..
  - 특징:
    - 모든 데이터는 2차원 테이블(Table)로 표현할 수 있음
      <br>
      -> 책 테이블(My books) 예시
    - 테이블의 각 행(row)은 자신만의 고유 키(Primary key, PK)가 있음
      <br>
      -> PK를 통해 특정 row 검색/참조 가능
    - 각각의 테이블은 서로 상호 관련성을 가지고 연결될 수 있음
      <br>
      -> 면접자-면접관 예시 (대부분 Many to Many 관계)
      - 일대일 관계(One to One)
        - ex.주민등록번호 - 사람당 1개뿐
        - PK - FK(Foreign Key, 외래 키) 연결
        - 다른 테이블의 PK 값(사람 이름)을 가져와서 FK(주민번호)로 지정 가능
        - 컬럼이 너무 많아질 때 / 확장성을 이유로 분리하여 사용
        - 주민번호 테이블의 user_id 컬럼은 users 테이블의 id(pk)를 참조한다
      - 일대다 관계(One to Many)
        - ex. 한 명의 주인이 여러 마리의 펫을 키우는 경우
        - 한 펫이 여러 명의 주인을 가지는 반대의 경우는 불가
        - Pets 테이블의 user_id 컬럼은 users 테이블의 id(pk)를 참조한다
        - 이때 pets에 참조한 users는 그 자체로는 pk이고, 참조된 user_id는 (한 항목에 여러 키를 입력하므로) 고유하지 않은 Foreign key 이다
      - 다대다 관계(Many to Many)
        - ex. Books 테이블 -> 한 작가는 여러 권의 책을 쓸 수 있고, 한 책에도 작가는 여러 명(공동 저자)이 될 수 있음
        - ex. 영화와 영화배우 -> 한 영화에 여러 배우가 출연하고, 한 배우가 여러 영화에 출연함
        - 여러 작가와 여러 책을 겹치지 않게 테이블을 분리해 다 나눠서 작성하는 것
          <br> -> 정규화(Normalization)
          <br> -> 프론트엔드의 경우에도 복잡한 데이터를 봤을 때 정규화가 필요하다는 것을 판단할 수 있어야 함
        - 서로 다른 테이블의 여러 데이터와 연결될 때는 두 테이블에 속한 데이터의 조합을 입력하기 위한 **중간 테이블**이 생성됨
          - 저자 테이블의 id, 책 테이블의 id를 연관지어 작성한 중간테이블 author_books 필요 (다른 테이블의 고유한 식별 키 참조)

<br><br>

## 과제

- 스타벅스 모델링 과제 ([westudy 링크](https://study.wecode.co.kr/session/23) 참고)
- 구조 그리는 것을 ERD라고 부르는데, db.diagram을 활용해서 ERD를 그려야 함
