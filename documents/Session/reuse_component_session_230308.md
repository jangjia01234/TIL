## 컴포넌트 재사용

### 김명성 멘토님

---

<br>

## 목차

1. 컴포넌트를 분리하는 이유와 그 기준
2. 컴포넌트 재사용을 위한 UI 구성요소 파악
3. UI 구성요소 중 동일한/다른 부분 구분하기, 이에 따른 데이터 구성
4. 컴포넌트가 받는 props 값에 따라 다른 UI 보여주기

<br>

## 컴포넌트를 분리하는 이유

- 분량이 길 때
- 계속 반복되어 사용될 때
- 재사용하기 위해
- 가독성을 높이고 유지보수가 용이해짐

<br>

## 컴포넌트 분리의 순서와 기준

- 공통되는(겹치는) 부분과 달라지는 부분 파악하기
- 주목해야 할 것은 컴포넌트에 따라 **달라지는** 부분
- 예제

  - 공통되는 모달 컴포넌트 만들기
  - 쓰이는 정보 로그인/회원가입 따로 상수데이터 사용
  - isLoginModal state 만들고 props에 삼항연산자 사용, setIsLoginModal 설정

    ```js
        onClick={() => }
        setIsLoginModal((prev) => !(prev))
    ```

  - input 추가는 조건부 렌더링

    - info.title이 "회원가입" 이면 뒤에 div를 보여주겠다

    ```js
    {
      info.title === "회원가입" && <div className="input" />;
    }
    ```

- 계산된 속성명으로 state를 하나로 관리하는 것 기억
- state를 사용하지 않아도 되는 조건 공식문서 참고

  - 값이 정해져 있을 때
  - 부모로부터 props로 전달받은 값일 때
  - 계산할 수 있는 값일 때 <- 가장 어려움
    - ex. westagram id, pw 조건에 따라 활성화되는 정규표현식에서 state를 사용하지 않아도 되고, 변수로 대체해서 사용하는 예제
    - 불필요한 렌더링이 자주 일어나는 것은 좋지 않음 (state 과다하게 사용하는 것 지양) -> 렌더링 최소화할 것 (배포 이후 효율성 측면에서도 고려할 필요가 있음)
    - 비슷한 특성의 state가 여러 개라면 하나의 state에서 어떻게 관리할지 고민해볼 것

- => 회원가입, 장바구니, 약관 동의는 하나의 state에서 관리할 수 있을 예제
- 컴포넌트 분리는 레포지토리에 예제가 있으니 연습해볼 것 (watcha, kakao)

<br>

## 다음 세션 예고

- advanced router
  - 하나의 프로덕트 상세 페이지에서 어떻게 매번 다른 상품을 보여줄 것인지에 대한 라우터 작성법
- 페이지네이션
- 무한 스크롤
- 필터링은 queryString 사용
  - 주소에서 물음표 이후의 경로 -> 추출하기 위한 조건문
  - 이 조건을 이용해서 어떻게 필터링을 해야 하는지
